

<!DOCTYPE html>
<html lang="en">

<head th:insert="~{head :: headContent}" th:with="pageTitle='Your Account'"></head>

<body>
    
    <nav th:insert="~{header :: navbar}"></nav>

    <section class="w-100 px-4 py-5 gestioneAccSection">
        <div class="row d-flex justify-content-center">
          <div class="col col-md-9 col-lg-7 col-xl-6">
            <div class="card" style="border-radius: 15px;">
              <div class="card-body p-4" style="height: fit-content;">
                <div class="d-flex h-100">
                    <div class="accountPhotoCont">
                        <div class="accountImgCont">
                        
                            <a th:if="${utente.img != null and utente.img.matches('^(http|https)://.*')}" th:href="${utente.img}">

                                <img class="img-fluid rounded-3 accountPhoto" th:src="${utente.img}" alt="User Image">
                            </a>
                            <!-- unless verifica se non è verificato quello scritto tra parentesi -->
                            <a th:unless="${utente.img != null and utente.img.matches('^(http|https)://.*')}" 
                                th:href="@{'/images/' + ${utente.img}}">
                                <img class="img-fluid rounded-3 accountPhoto" th:src="@{'/images/' + ${utente.img}}" alt="Local Image">
                            </a>
                        </div>
                        
                        <a class="btn btn-outline-danger me-1" href="/logout">Log out</a>
                    </div>
                    <div class="flex-grow-1 ms-3 secondAccDivCont">
                        <h5 class="mb-1" th:text="${utente.nome}"></h5> 
                        <!-- se la professione non è null la mostra altrimenti sotto mostra la scritta impostata -->
                        <!-- 
                        <p class="mb-2 pb-1 text-success" th:if="${utente.professione != null}" th:text="${utente.professione}"></p>
                        <p class="mb-2 pb-1 text-danger bg-opacity-10" th:if="${utente.professione == null || utente.professione == ''}">Nessuna professione impostata.</p> 
                        -->

                        <div class="d-flex justify-content-start rounded-3 p-2 mb-2 bg-body-tertiary">
                            <div class="mx-3">
                                <p class="small text-muted mb-1">Username</p>
                                <p class="mb-0" th:text="${utente.username}"></p>
                            </div>
                            <div class="mx-3">
                                <p class="small text-muted mb-1">Password</p>
                                <p class="mb-0" th:text="${userPw}"></p>
                            </div>
                        </div>
                        
                        <div class="d-flex justify-content-start rounded-3 p-2 mb-2 bg-body-tertiary">
                            <div>
                                <p class="small text-muted mb-1">Image</p>
                                <p class="mb-0" th:text="${utente.img}"></p>
                            </div>
                        </div>
                        <div class="d-flex pt-1">
                            <a class="btn btn-outline-primary me-1 flex-grow-1" th:href="@{/account/modificautente(id=${utente.id})}">Edit Profile</a>
                            <button onclick="location.href='/'"  type="button" data-mdb-button-init data-mdb-ripple-init class="btn btn-primary flex-grow-1">Go Home</button>
                        </div>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>
    </section>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

</body>
</html>